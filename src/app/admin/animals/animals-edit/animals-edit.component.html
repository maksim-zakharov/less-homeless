<nz-breadcrumb>
  <nz-breadcrumb-item>
    Главная
  </nz-breadcrumb-item>
  <nz-breadcrumb-item>
    <a routerLink="../list">Журнал движения животных</a>
  </nz-breadcrumb-item>
  <nz-breadcrumb-item>
    {{titleText$ | async}}
  </nz-breadcrumb-item>
</nz-breadcrumb>

<nz-card nzTitle="{{titleText$ | async}}">
  <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
    <div nz-row [nzGutter]="24" nzType="flex" nzJustify="start">
      <!-- TODO айдишник нужно где-то найти, придется сначала получать айдишник, потом фотку хранить -->
      <div nz-col nzSpan="12">
        <nz-upload
          class="avatar-uploader"
          [(nzFileList)]="fileList"
          nzName="photo"
          nzListType="picture-card"
          [nzShowUploadList]="false"
          [nzBeforeUpload]="beforeUpload"
        >
          <ng-container *ngIf="!avatarUrl">
            <i class="upload-icon" nz-icon [nzType]="loading ? 'loading' : 'plus'"></i>
            <div class="ant-upload-text">Upload</div>
          </ng-container>
          <img *ngIf="avatarUrl" [src]="avatarUrl"/>
        </nz-upload>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label nzRequired nzFor="name">Кличка животного</nz-form-label>
          <nz-form-control nzErrorTip="The input is not valid name!">
            <input nz-input formControlName="name" id="name"/>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label nzRequired nzFor="category">Категория животного</nz-form-label>
          <nz-form-control nzErrorTip="The input is not valid category!">
            <nz-radio-group formControlName="category" id="category">
              <label nz-radio [nzValue]="item" *ngFor="let item of petTypes$ | async">{{item.name}}</label>
            </nz-radio-group>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-label nzRequired nzFor="sex">Пол</nz-form-label>
          <nz-form-control nzErrorTip="The input is not valid sex!">
            <nz-radio-group formControlName="sex" id="sex">
              <label nz-radio [nzValue]="item" *ngFor="let item of petGenders$ | async">{{item.name}}</label>
            </nz-radio-group>
          </nz-form-control>
        </nz-form-item>
        <div>
          <nz-form-item>
            <nz-form-label nzRequired nzFor="birthDate">Год рождения</nz-form-label>
            <nz-form-control nzErrorTip="The input is not valid birth year!">
              <nz-date-picker nzMode="month" formControlName="birthDate" id="birthDate"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="catchingAct">Акт отлова</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid catching act!">
          <input nz-input formControlName="catchingAct" id="catchingAct"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="district">Район</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid district!">
          <input nz-input formControlName="district" id="district"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="street">Улица</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid street!">
          <input nz-input formControlName="street" id="street"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="breed">Порода</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid breed!">
          <nz-select nzShowSearch formControlName="breed" id="breed">
            <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of breeds$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="color">Окрас</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid color!">
          <nz-select nzShowSearch formControlName="color" id="color">
            <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of catColors$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="wool">Шерсть</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid wool!">
          <nz-select nzShowSearch formControlName="wool" id="wool">
            <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of catFurs$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="ears">Уши</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid ears!">
          <nz-select nzShowSearch formControlName="ears" id="ears">
            <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of earTypes$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="tail">Хвост</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid tail!">
          <nz-select nzShowSearch formControlName="tail" id="tail">
            <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of tailTypes$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="size">Размер</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid size!">
          <nz-select nzShowSearch formControlName="size" id="size">
            <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of petSizes$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="weight">Вес</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid weight!">
          <input nz-input formControlName="weight" id="weight"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="specialSigns">Особые приметы</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid special signs!">
          <textarea nz-input formControlName="specialSigns" id="specialSigns"></textarea>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="identificationLabel">Идентификационная метка (способ и место нанесения)
        </nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid identification label!">
          <input nz-input formControlName="identificationLabel" id="identificationLabel"/>
        </nz-form-control>
      </nz-form-item>
    </div>
    <!--    <nz-divider></nz-divider>-->
    <h3>Приют</h3>
    <div nz-row [nzGutter]="24" nzType="flex" nzJustify="start">
      <nz-form-item>
        <nz-form-label nzRequired nzFor="shelterName">Наименование приюта</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid shelter name!">
          <nz-select nzShowSearch formControlName="shelterName" id="shelterName">
            <nz-option [nzValue]="breed" [nzLabel]="breed.shelterName" *ngFor="let breed of shelters$ | async"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="shelterArrivalDate">Дата поступления животного в приют</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid shelter arrival date!">
          <nz-date-picker formControlName="shelterArrivalDate" id="shelterArrivalDate"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
    </div>
    <!--    <nz-divider></nz-divider>-->
    <h3>Стерилизация животного</h3>
    <div nz-row [nzGutter]="24" nzType="flex" nzJustify="start">
      <nz-form-item>
        <nz-form-label nzRequired nzFor="sterilizationStationName">Наименование пункта стерилизации</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid sterilization station name!">
          <input nz-input formControlName="sterilizationStationName" id="sterilizationStationName"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="sterilizationStationAddress">Адрес пункта стерилизации</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid sterilization station Address!">
          <input nz-input formControlName="sterilizationStationAddress" id="sterilizationStationAddress"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="sterilizationStationArrivalDate">Дата поступления в пункт стерилизации
        </nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid sterilization station arrival date!">
          <nz-date-picker formControlName="sterilizationStationArrivalDate"
                          id="sterilizationStationArrivalDate"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="sterilizationDate">Дата стерилизации</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid sterilization date!">
          <nz-date-picker formControlName="sterilizationDate" id="sterilizationDate"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="doctorFullname">ФИО врача проводившего стерилизацию</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid doctor fullname!">
          <input nz-input formControlName="doctorFullname" id="doctorFullname"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="dischargeDate">Дата выписки животного из стерилизации
        </nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid discharge date!">
          <nz-date-picker formControlName="dischargeDate" id="dischargeDate"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzRequired nzFor="headOfSterilizationFullname">ФИО руководителя стерилизации</nz-form-label>
        <nz-form-control nzErrorTip="The input is not valid head of sterilization fullname!">
          <input nz-input formControlName="headOfSterilizationFullname" id="headOfSterilizationFullname"/>
        </nz-form-control>
      </nz-form-item>
    </div>
    <!--    <nz-divider></nz-divider>-->
    <!--    <h3>Выбытие животного</h3>-->
    <!--    <div nz-row [nzGutter]="24" nzType="flex" nzJustify="start">-->
    <!--      <nz-form-item>-->
    <!--        <nz-form-label nzRequired nzFor="animalLeftDate">Дата выбытия животного из приюта</nz-form-label>-->
    <!--        <nz-form-control nzErrorTip="The input is not valid animal left date!">-->
    <!--          <nz-date-picker formControlName="animalLeftDate" id="animalLeftDate"></nz-date-picker>-->
    <!--        </nz-form-control>-->
    <!--      </nz-form-item>-->
          <nz-form-item>
            <nz-form-label nzRequired nzFor="leavingReason">Причина выбытия (передача владельцу, смерть или иное,
              написать)
            </nz-form-label>
            <nz-form-control nzErrorTip="The input is not valid animal left reason!">
              <nz-select nzShowSearch formControlName="leavingReason" id="leavingReason">
                <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of leave$ | async"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
<!--          <nz-form-item>-->
<!--            <nz-form-label nzRequired nzFor="leavingReason">Основание для выбытия животного из приюта (название,-->
<!--              номер и дата документа)-->
<!--            </nz-form-label>-->
<!--            <nz-form-control nzErrorTip="The input is not valid E-mail!">-->
<!--              <nz-select nzShowSearch formControlName="leavingReason" id="leavingReason">-->
<!--                <nz-option [nzValue]="breed" [nzLabel]="breed.name" *ngFor="let breed of leave$ | async"></nz-option>-->
<!--              </nz-select>-->
<!--            </nz-form-control>-->
<!--          </nz-form-item>-->
    <!--    </div>-->
    <!--    <div nz-row [nzGutter]="24" nzType="flex" nzJustify="start">-->
    <!--      <nz-form-item>-->
    <!--        <nz-form-label nzRequired nzFor="email">ФИО и подпись руководителя Управляющей организации-->
    <!--          приюта-->
    <!--        </nz-form-label>-->
    <!--        <nz-form-control nzErrorTip="The input is not valid E-mail!">-->
    <!--          <input nz-input formControlName="email" id="email"/>-->
    <!--        </nz-form-control>-->
    <!--      </nz-form-item>-->
    <!--      <nz-form-item>-->
    <!--        <nz-form-label nzRequired nzFor="email">Государственный регистрационный номер</nz-form-label>-->
    <!--        <nz-form-control nzErrorTip="The input is not valid E-mail!">-->
    <!--          <input nz-input formControlName="email" id="email"/>-->
    <!--        </nz-form-control>-->
    <!--      </nz-form-item>-->
    <!--    </div>-->
    <nz-form-item>
      <nz-form-control>
        <button nz-button nzType="primary">{{submitText$ | async}}</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-card>
